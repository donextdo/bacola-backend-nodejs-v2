{"version":3,"sources":["product.js"],"names":["Product","require","request","addProduct","req","res","title","body","brand","description","image","category","quantity","price","isAvailable","skuNumber","type","mfgDate","expDate","discount","review","createdAt","Date","updatedAt","deletedAt","product","save","response","status","send","message","console","log","getAllProduct","find","products","json","getProductById","productId","params","id","findById","updateProduct","Id","productUpdate","findOneAndUpdate","_id","deleteUpdate","updateDeleteDate","deleteProduct","findByIdAndDelete","module","exports"],"mappings":"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","sourcesContent":["const Product = require(\"../models/product\");\r\nconst { request } = require(\"express\");\r\n\r\n//insert product\r\nconst addProduct = async (req, res) => {\r\n  const title = req.body.title;\r\n  const brand = req.body.brand;\r\n  const description = req.body.description;\r\n  const image = req.body.image;\r\n  const category = req.body.category;\r\n  const quantity = req.body.quantity;\r\n  const price = req.body.price;\r\n  const isAvailable = req.body.isAvailable;\r\n  const skuNumber = req.body.price;\r\n  const type = req.body.type;\r\n  const mfgDate = req.body.mfgDate;\r\n  const expDate = req.body.expDate;\r\n  const discount = req.body.discount;\r\n  const review = req.body.review;\r\n  const createdAt = new Date();\r\n  const updatedAt = null;\r\n  const deletedAt = null;\r\n  //const isFavourite = req.body.isFavourite;\r\n\r\n  const product = new Product({\r\n    title,\r\n    brand,\r\n    description,\r\n    image,\r\n    category,\r\n    quantity,\r\n    price,\r\n    isAvailable,\r\n    skuNumber,\r\n    type,\r\n    mfgDate,\r\n    expDate,\r\n    discount,\r\n    review,\r\n    createdAt,\r\n    updatedAt,\r\n    deletedAt,\r\n    // isFavourite,\r\n  });\r\n  try {\r\n    let response = await product.save();\r\n    if (response) {\r\n      return res.status(201).send({ message: \"New Product Insered\" });\r\n    } else {\r\n      return res.status(500).send({ message: \"Internal server error\" });\r\n    }\r\n  } catch (err) {\r\n    console.log(err);\r\n    return res.status(400).send({ message: \"Error while saving products\" });\r\n  }\r\n};\r\n\r\n//get All Product\r\nconst getAllProduct = async (req, res) => {\r\n  try {\r\n    let products = await Product.find();\r\n    if (products) {\r\n      return res.json(products);\r\n    } else {\r\n      return res\r\n        .status(404)\r\n        .send({ message: \"Error occured when retrieving products\" });\r\n    }\r\n  } catch (err) {\r\n    return res.status(500).send({ message: \"Internal server error\" });\r\n  }\r\n};\r\n\r\n//get product by id\r\nconst getProductById = async (req, res) => {\r\n  const productId = req.params.id;\r\n  //console.log(\"data\", productId);\r\n\r\n  try {\r\n    let response = await Product.findById(productId);\r\n    // console.log(\"response\", response);\r\n    if (response) {\r\n      return res.json(response);\r\n    } else {\r\n      return res.status(404).send({ message: \"No such product found\" });\r\n    }\r\n  } catch (err) {\r\n    return res.status(404).send({ message: \"No such product found\" });\r\n  }\r\n};\r\n\r\n//update product by id\r\nconst updateProduct = async (req, res) => {\r\n  const Id = req.params.id;\r\n\r\n  let productUpdate = {\r\n    Id: Id,\r\n    title: req.body.title,\r\n    brand: req.body.brand,\r\n    description: req.body.description,\r\n    image: req.body.image,\r\n    category: req.body.category,\r\n    quantity: req.body.quantity,\r\n    price: req.body.price,\r\n    isAvailable: req.body.isAvailable,\r\n    skuNumber: req.body.price,\r\n    type: req.body.type,\r\n    mfgDate: req.body.mfgDate,\r\n    expDate: req.body.expDate,\r\n    discount: req.body.discount,\r\n    review: req.body.review,\r\n    updatedAt: new Date(),\r\n  };\r\n\r\n  try {\r\n    const response = await Product.findOneAndUpdate({ _id: Id }, productUpdate);\r\n    \r\n    if (response) {\r\n      return res.status(200).send({ message: \"Successfully updated Product \" });\r\n    } else {\r\n      return res.status(500).send({ message: \"Internal server error\" });\r\n    }\r\n  } catch (err) {\r\n    return res.status(400).send({ message: \"Unable to update\" });\r\n  }\r\n};\r\n\r\nconst deleteUpdate = async (req, res) => {\r\n  const Id = req.params.id;\r\n  let updateDeleteDate = await Product.findById(Id);\r\n  updateDeleteDate.deletedAt = new Date();\r\n  // return await response.save();\r\n  try {\r\n    let response = await updateDeleteDate.save();\r\n    if (response) {\r\n      return res.status(201).send({ message: \"delete date is updated\" });\r\n    } else {\r\n      return res.status(500).send({ message: \"Internal server error\" });\r\n    }\r\n  } catch (err) {\r\n    console.log(err);\r\n    return res.status(400).send({ message: \"Error while saving products\" });\r\n  }\r\n};\r\n\r\n//delete product by id\r\nconst deleteProduct = async (req, res) => {\r\n  const Id = req.params.id;\r\n  try {\r\n    const response = await Product.findByIdAndDelete({ _id: Id });\r\n    if (response) {\r\n      return res\r\n        .status(204)\r\n        .send({ message: \"Successfully deleted a Request\" });\r\n    } else {\r\n      return res.status(500).send({ message: \"Internal server error\" });\r\n    }\r\n  } catch (err) {\r\n    console.log(err.message);\r\n    return res.status(400).send({ message: \"Could not delete the request\" });\r\n  }\r\n};\r\n\r\nmodule.exports = {\r\n  addProduct,\r\n  getAllProduct,\r\n  getProductById,\r\n  updateProduct,\r\n  deleteProduct,\r\n  deleteUpdate,\r\n};\r\n"],"file":"product.dev.js"}