"use strict";var Product=require("../models/product"),_require=require("express"),request=_require.request,axios=require("axios"),getproductByfilter=function(r,t){var s,a,n,u,c,o,i,p,l,d,g;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return s="http://localhost:4000/api",e.prev=1,a=r.query.categoryId,n=r.query.subCategories,u=r.query.brands,c=parseFloat(r.query.min_price),o=parseFloat(r.query.max_price),i="string"==typeof n?n.split(","):[],p="string"==typeof u?u.split(","):[],l=0<i.length?"".concat(s,"/products/").concat(i):"".concat(s,"/products/").concat(a),e.next=12,regeneratorRuntime.awrap(axios.get(l));case 12:d=e.sent,g=d.data,0<p.length&&(g=g.filter(function(e){return p.includes(e.brand)})),isNaN(c)||isNaN(o)||(g=g.filter(function(e){return e.price>=c&&e.price<=o})),t.status(200).json(g),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(1),t.status(500).json({message:"Server Error"});case 22:case"end":return e.stop()}},null,null,[[1,19]])};module.exports={getproductByfilter:getproductByfilter};
//# sourceMappingURL=productAdditional.min.js.map
